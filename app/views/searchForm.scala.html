<form id="searchForm" role="form" >
    <label for="searchInput">Search:</label>
    <input type="text" class="form-control" id="searchInput" placeholder="Enter search string">
    <button class="btn btn-default" type="submit" id="searchAction">Search for events</button>
</form>


<script type="text/javascript">
$(function() {
    require(['timeline/timelineService'], function(timelineService) {

        $('#searchAction').on('click', function(e) {
            e.preventDefault();
            var searchString = $('#searchInput' ).val();

            var searchResults = timelineService.search(searchString);
            var $searchResults = $('#searchResults');
            $searchResults.find("tbody").html("");

            _.each(searchResults, function(item) {
                var itemStartDate = createCellString(formatedString(item.start));
                var itemEndDate = createCellString(formatedString(item.end));
                var itemGroup = createCellString(item.group.content);
                var itemContent = createCellString(item.content);
                var tableRow = $('<tr>' + itemContent + itemStartDate +itemEndDate+ itemGroup+$('</tr>'));
                $searchResults.append(tableRow);
            });
        });
    });

    var createCellString = function(content) {
        return '<td>'+content+'</td>';
    }
});
</script>